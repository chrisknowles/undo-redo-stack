{"version":3,"file":"undo-redo-stack.min.js","sources":["../node_modules/ck-stack/src/stack.js","../src/undo-redo-stack.js"],"sourcesContent":["const push = state =>\n  val => state.push(val)\n\nconst pop = state => () =>\n  state.pop()\n\nconst isEmpty = state => () =>\n  state.length < 1\n\nconst clear = state => () =>\n  state.splice(0)\n\nconst current = state => () =>\n  state[state.length - 1]\n\nconst getValues = state => () =>\n  [...state]\n\nfunction main(state) {\n  return {\n      push: push(state)\n    , pop: pop(state)\n    , isEmpty: isEmpty(state)\n    , clear: clear(state)\n    , current: current(state)\n    , getValues: getValues(state)\n  }\n}\n\nfunction stack(state = false) {\n  return main(state || [])\n}\n\nexport default stack\n","/**\n * An undo/redo history manager implemented as two stacks\n */\nimport stack from 'ck-stack'\n\nconst push = undoStack => val =>\n  undoStack.push(val)\n\nconst undo = (undoStack, redoStack) => () => {\n  if (!undoStack.isEmpty()) {\n    redoStack.push(undoStack.pop())\n  }\n}\n\nconst redo = (undoStack, redoStack) => () => {\n  if (!redoStack.isEmpty()) {\n    undoStack.push(redoStack.pop())\n  }\n}\n\nconst clear = (undoStack, redoStack) => () => {\n  undoStack.clear()\n  redoStack.clear()\n}\n\nconst  latest = (undoStack) => () =>\n  undoStack.current()\n\nconst getValues = (undoStack, redoStack) => () => ({\n    undo: undoStack.getValues()\n  , redo: redoStack.getValues()\n})\n\nfunction main(undoStack, redoStack) {\n  return {\n      push: push(undoStack)\n    , undo: undo(undoStack, redoStack)\n    , redo: redo(undoStack, redoStack)\n    , clear: clear(undoStack, redoStack)\n    , latest: latest(undoStack)\n    , getValues: getValues(undoStack, redoStack)\n  }\n}\n\nfunction undoRedo(undoStack = false, redoStack = false) {\n  return undoStack && redoStack\n    ? main(undoStack, redoStack)\n    : main(stack(), stack())\n}\n\nexport default undoRedo\n"],"names":["push","state","val","pop","isEmpty","clear","current","getValues","main","stack","undoStack","undo","redoStack","redo","latest","undoRedo"],"mappings":"+LAAA,IAAMA,CAAI,CAAGC,CAAK,EAChBC,CAAG,EAAID,CAAK,CAAC,IAAI,CAACC,CAAG,EAEjBC,CAAG,CAAGF,CAAK,EAAI,IACnBA,CAAK,CAAC,GAAG,GAELG,CAAO,CAAGH,CAAK,EAAI,IACvBA,CAAK,CAAC,MAAM,CAAG,EAEXI,CAAK,CAAGJ,CAAK,EAAI,IACrBA,CAAK,CAAC,MAAM,CAAC,CAAC,EAEVK,CAAO,CAAGL,CAAK,EAAI,IACvBA,CAAK,CAACA,CAAK,CAAC,MAAM,CAAG,CAAC,EAElBM,CAAS,CAAGN,CAAK,EAAI,IACzB,CAAC,GAAGA,CAAK,EAEX,SAASO,CAAI,CAACP,CAAK,CAAE,CACnB,MAAO,CACH,IAAI,CAAED,CAAI,CAACC,CAAK,CAAC,CACjB,GAAG,CAAEE,CAAG,CAACF,CAAK,CAAC,CACf,OAAO,CAAEG,CAAO,CAACH,CAAK,CAAC,CACvB,KAAK,CAAEI,CAAK,CAACJ,CAAK,CAAC,CACnB,OAAO,CAAEK,CAAO,CAACL,CAAK,CAAC,CACvB,SAAS,CAAEM,CAAS,CAACN,CAAK,CAAC,CAC9B,CACF,AAED,SAASQ,CAAK,CAACR,CAAK,GAAG,EAAK,CAAE,CAC5B,OAAOO,CAAI,CAACP,CAAK,EAAI,EAAE,CAAC,CACzB,AC5BD,IAEMD,EAAO,SAAPA,CAAO,WAAa,mBACxBU,EAAUV,IAAV,CAAeE,CAAf,CADwB,CAAb,CAAb,CAGMS,EAAO,SAAPA,CAAO,CAACD,CAAD,CAAYE,CAAZ,SAA0B,UAAM,CACtCF,EAAUN,OAAV,EAAL,IACYJ,IAAV,CAAeU,EAAUP,GAAV,EAAf,EAFS,CAAb,CAMMU,EAAO,SAAPA,CAAO,CAACH,CAAD,CAAYE,CAAZ,SAA0B,UAAM,CACtCA,EAAUR,OAAV,EAAL,IACYJ,IAAV,CAAeY,EAAUT,GAAV,EAAf,EAFS,CAAb,CAMME,EAAQ,SAARA,CAAQ,CAACK,CAAD,CAAYE,CAAZ,SAA0B,UAAM,GAClCP,KAAV,KACUA,KAAV,GAFY,CAAd,CAKOS,EAAS,SAATA,CAAS,CAACJ,CAAD,SAAe,kBAC7BA,EAAUJ,OAAV,EAD6B,CAAf,CAAhB,CAGMC,EAAY,SAAZA,CAAY,CAACG,CAAD,CAAYE,CAAZ,SAA0B,iBAAO,MACzCF,EAAUH,SAAV,EADyC,MAEzCK,EAAUL,SAAV,GAFkC,CAA1B,CAAlB,CAKA,SAASC,CAAT,CAAcE,CAAd,CAAyBE,CAAzB,CAAoC,OAC3B,MACGZ,EAAKU,CAAL,CADH,MAEGC,EAAKD,CAAL,CAAgBE,CAAhB,CAFH,MAGGC,EAAKH,CAAL,CAAgBE,CAAhB,CAHH,OAIIP,EAAMK,CAAN,CAAiBE,CAAjB,CAJJ,QAKKE,EAAOJ,CAAP,CALL,WAMQH,EAAUG,CAAV,CAAqBE,CAArB,EANf,CAUF,SAASG,CAAT,EAAwD,KAAtCL,CAAsC,2DAA1B,EAA0B,CAAnBE,CAAmB,2DAAP,EAAO,QAC/CF,GAAaE,CAAb,CACHJ,EAAKE,CAAL,CAAgBE,CAAhB,CADG,CAEHJ,EAAKC,GAAL,CAAcA,GAAd,CAFJ"}